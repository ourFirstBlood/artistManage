(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/logo.d26cda7c.png"},123:function(e,t,a){e.exports=a(387)},128:function(e,t,a){},130:function(e,t,a){},365:function(e,t,a){},367:function(e,t,a){},369:function(e,t,a){},371:function(e,t,a){},373:function(e,t,a){},375:function(e,t,a){},377:function(e,t,a){},379:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(9),i=a.n(l),c=(a(128),a(11)),o=a(12),r=a(14),u=a(13),m=a(15),d=a(389),h=(a(130),a(391)),p=a(118),v=a.n(p),f=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ivv-header"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"ivv-logo"},s.a.createElement("img",{className:"logo",src:v.a,alt:"..."}),s.a.createElement("h1",{className:"logo-letter"},"\u827a\u4eba\u7ba1\u7406\u7cfb\u7edf")),s.a.createElement("ul",{className:"ivv-nav"},s.a.createElement("li",null,s.a.createElement(h.a,{to:"/ivvtable"},"\u4e3b\u9875")),s.a.createElement("li",null,s.a.createElement(h.a,{to:"/content"},"\u6743\u9650\u7ba1\u7406")),s.a.createElement("li",null,"\u6211\u7684"))))}}]),t}(s.a.Component),b=a(7),g=a(119),E=a.n(g),y=a(120),S=a.n(y);function O(e){var t=this,a=e.url,n=e.params,s=void 0===n?{}:n,l=e.type,i=void 0===l?"POST":l,c=e.header,o=void 0===c?{"Content-Type":"application/x-www-form-urlencoded"}:c;return new Promise(function(e,n){E()({method:i,url:a,data:S.a.stringify(s),headers:o}).then(function(a){0===a.data.code?e(a.data):996===a.data.code?t.props.history.push("/login",!0):k(a.data.msg,"error")}).catch(function(e){n(e)})})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;Object(b.Message)({message:e,type:t,duration:a})}var N=a(121),x=new(a.n(N).a),w=(a(365),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).changeName=function(e){a.setState({name:e})},a.changeLength=function(e){Number.isNaN(e)||(e=e?Number.parseInt(e):null,a.setState({length:e}))},a.setShow=function(e,t){console.log(e),a.setState({setWhat:t,name:e.name,type:e.type,isValue:e.required?1:0,length:e.length||"",regex:e.regex||"",options:e.options||["",""],show:!a.state.show})},a.setShowSave=function(){if(""===a.state.name)k("\u8bf7\u586b\u5199\u5b57\u6bb5\u540d","warning");else if(""===a.state.type)k("\u8bf7\u9009\u62e9\u5b57\u6bb5\u7c7b\u578b","warning");else if("radio"!==a.state.type&&"checkbox"!==a.state.type||-1===a.state.options.lastIndexOf("")){var e={};switch(e.setWhat=a.state.setWhat,e.name=a.state.name,e.required=1===a.state.isValue,a.state.type){case"text":e.type="text",e.length=a.state.length,e.regex=a.state.regex;break;case"textarea":e.type="textarea";break;case"radio":e.type="radio",e.options=a.state.options;break;case"checkbox":e.type="checkbox",e.options=a.state.options;break;default:e.type="date"}x.emit("setShowSave",e),a.setState({show:!1})}else k("\u60a8\u8fd8\u6709\u9009\u9879\u672a\u8bbe\u7f6e\uff0c\u8bf7\u5148\u8bbe\u7f6e\u9009\u9879","warning")},a.state={setWhat:"custom",typeOptions:[{value:"text",label:"\u5355\u884c\u6587\u672c"},{value:"textarea",label:"\u591a\u884c\u6587\u672c"},{value:"radio",label:"\u5355\u9009\u6846"},{value:"checkbox",label:"\u590d\u9009\u6846"},{value:"date",label:"\u65e5\u671f"}],name:"",type:"",length:"",isValue:1,regex:"",verifyOptions:[{value:"phone",label:"\u624b\u673a"},{value:"number",label:"\u6570\u5b57"},{value:"id_card",label:"\u8eab\u4efd\u8bc1"},{value:"e_mail",label:"\u90ae\u7bb1"}],options:["",""],show:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onChange",value:function(e){this.setState({isValue:e})}},{key:"onSetWhat",value:function(e){this.setState({setWhat:e})}},{key:"setOptions",value:function(e,t,a){var n=this.state.options;"add"===e?n.push(""):"update"===e?n[t]=a:"reduce"===e&&n.splice(t,1),this.setState(n)}},{key:"setTypeOrRegex",value:function(e,t){"type"===e?this.setState({type:t}):this.setState({regex:t})}},{key:"componentDidMount",value:function(){x.addListener("setShow",this.setShow)}},{key:"componentWillUnmount",value:function(){x.removeListener("setShow",this.setShow)}},{key:"render",value:function(){var e=this,t=this.state.show,a=this.state.options.map(function(t,a){return s.a.createElement("span",{className:"vform-module-opt",key:a},s.a.createElement(b.Input,{onChange:e.setOptions.bind(e,"update",a),placeholder:"\u8bf7\u8bbe\u7f6e\u9009\u9879",value:t}),a<2?null:s.a.createElement("i",{onClick:e.setOptions.bind(e,"reduce",a),className:"el-icon-minus vform-module-reduce"}))});return t?s.a.createElement("div",{className:"ivv-vform"},s.a.createElement("ul",{className:"vform"},s.a.createElement("li",null,s.a.createElement("span",{className:"vform-name"},"\u662f\u5426\u5c55\u793a\uff1a"),s.a.createElement("span",{className:"vform-module"},s.a.createElement(b.Radio,{name:"isShow",value:"fixed",checked:"fixed"===this.state.setWhat,onChange:this.onSetWhat.bind(this)},"\u662f"),s.a.createElement(b.Radio,{name:"isShow",value:"custom",checked:"custom"===this.state.setWhat,onChange:this.onSetWhat.bind(this)},"\u5426"))),s.a.createElement("li",null,s.a.createElement("span",{className:"vform-name"},"\u5b57\u6bb5\u540d\uff1a"),s.a.createElement("span",{className:"vform-module"},s.a.createElement(b.Input,{onChange:this.changeName,placeholder:"\u8bf7\u8f93\u5165\u5b57\u6bb5\u540d",value:this.state.name}))),s.a.createElement("li",null,s.a.createElement("span",{className:"vform-name"},"\u7c7b\u578b\uff1a"),s.a.createElement("span",{className:"vform-module"},s.a.createElement(b.Select,{value:this.state.type,placeholder:"\u8bf7\u9009\u62e9",onChange:this.setTypeOrRegex.bind(this,"type")},this.state.typeOptions.map(function(e){return s.a.createElement(b.Select.Option,{key:e.value,label:e.label,value:e.value})})))),"text"===this.state.type?s.a.createElement("li",null,s.a.createElement("span",{className:"vform-name"},"\u957f\u5ea6\uff1a"),s.a.createElement("span",{className:"vform-module"},s.a.createElement(b.Input,{onChange:this.changeLength,value:this.state.length,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"}))):null,s.a.createElement("li",null,s.a.createElement("span",{className:"vform-name"},"\u662f\u5426\u5fc5\u586b\uff1a"),s.a.createElement("span",{className:"vform-module"},s.a.createElement(b.Radio,{name:"isRequire",value:1,checked:1===this.state.isValue,onChange:this.onChange.bind(this)},"\u662f"),s.a.createElement(b.Radio,{name:"isRequire",value:0,checked:0===this.state.isValue,onChange:this.onChange.bind(this)},"\u5426"))),"text"===this.state.type?s.a.createElement("li",null,s.a.createElement("span",{className:"vform-name"},"\u5b57\u6bb5\u5224\u65ad\uff1a"),s.a.createElement("span",{className:"vform-module"},s.a.createElement(b.Select,{value:this.state.regex,placeholder:"\u8bf7\u9009\u62e9\u9a8c\u8bc1\u65b9\u5f0f",onChange:this.setTypeOrRegex.bind(this,"regex")},this.state.verifyOptions.map(function(e){return s.a.createElement(b.Select.Option,{key:e.value,label:e.label,value:e.value})})))):null,"radio"===this.state.type||"checkbox"===this.state.type?s.a.createElement("li",{className:"vform-form-opt"},s.a.createElement("span",{className:"vform-opt"},"\u9009\u9879\uff1a"),s.a.createElement("span",{className:"vform-module"},a,s.a.createElement("i",{onClick:this.setOptions.bind(this,"add"),className:"el-icon-plus vform-module-add"}))):null,s.a.createElement("li",{className:"lastli"},s.a.createElement(b.Button,{onClick:this.setShow},"\u53d6\u6d88"),s.a.createElement(b.Button,{type:"primary",onClick:this.setShowSave},"\u786e\u5b9a")))):null}}]),t}(s.a.Component)),j=a(388),C=a(390),F=(a(367),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={user_name:"",password:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"login",value:function(){var e=this,t=this.state,a=t.user_name,n=t.password;O.call(this,{url:"/login",params:{user_name:a,password:n}}).then(function(){k("\u767b\u9646\u6210\u529f"),e.props.history.replace("/ivvtable")})}},{key:"userChange",value:function(e){this.setState({user_name:e})}},{key:"pwChange",value:function(e){this.setState({password:e})}},{key:"reset",value:function(){this.setState({user_name:"",password:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"ivv-login"},s.a.createElement("div",{className:"login"},s.a.createElement("label",{className:"login-label"},s.a.createElement("span",{className:"login-label-name"},"\u7528\u6237\u540d:"),s.a.createElement(b.Input,{className:"login-label-input",type:"text",value:this.state.user_name,onChange:this.userChange.bind(this)})),s.a.createElement("label",{className:"login-label"},s.a.createElement("span",{className:"login-label-name"},"\u5bc6\u7801:"),s.a.createElement(b.Input,{className:"login-label-input",type:"password",value:this.state.password,onChange:this.pwChange.bind(this)})),s.a.createElement("span",{className:"login-label"},s.a.createElement(b.Button,{plain:!0,type:"info",onClick:this.reset.bind(this)},"\u91cd\u7f6e"),s.a.createElement(b.Button,{plain:!0,type:"success",onClick:this.login.bind(this)},"\u767b\u5f55"))))}}]),t}(s.a.Component)),_=a(8),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).setCurrentPage=function(e){a.setState({currentPage:e},function(){a.getTableData()})},a.getTableData=function(){a.setState({loading:!0}),O.call(Object(_.a)(Object(_.a)(a)),{url:"/artist/get_artistsList",params:{page:a.state.currentPage,page_size:a.state.pageSize}}).then(function(e){var t=e.data;if(console.log(t),0!==t.count){for(var n,l=[],i=t.list[0].info.fixed,c=0;c<i.length;c++)l.push({label:i[c].name,minWidth:150,prop:"key"+c});n=t.list.reduce(function(e,t,a){var n={};n.index=a,n.id=t.id;for(var s=0;s<t.info.fixed.length;s++)n["key"+s]=t.info.fixed[s].value;return e.push(n),e},[]),l.push({label:"\u64cd\u4f5c",fixed:"right",width:200,prop:"address",render:function(e){return s.a.createElement("span",null,s.a.createElement(b.Button,{plain:!0,type:"info",onClick:function(){a.props.history.push("/edit/"+e.id)},size:"small"},"\u7f16\u8f91"),s.a.createElement(b.Button,{plain:!0,type:"info",onClick:function(){a.props.history.push("/detail/"+e.id)},size:"small"},"\u8be6\u60c5"),s.a.createElement(b.Button,{onClick:a.handleData.bind(Object(_.a)(Object(_.a)(a)),e.id),type:"danger",size:"small"},"\u5220\u9664"))}}),a.setState({columns:l,data:n})}else a.setState({columns:[{label:"\u59d3\u540d",prop:"name"}],data:[]});a.setState({total:t.count,loading:!1})})},a.state={loading:!1,total:0,pageSize:10,currentPage:1,columns:[{label:"\u65e5\u671f",prop:"date"}],data:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleData",value:function(e){var t=this;b.MessageBox.confirm("\u6b64\u64cd\u4f5c\u5c06\u6c38\u4e45\u5220\u9664\u8be5\u6587\u4ef6, \u662f\u5426\u7ee7\u7eed?","\u63d0\u793a",{type:"warning"}).then(function(){O.call(t,{url:"/artist/detele_artists",params:{id:e}}).then(function(){k("\u5220\u9664\u6210\u529f"),t.getTableData()})}).catch(function(){k("\u5df2\u53d6\u6d88\u5220\u9664")})}},{key:"componentDidMount",value:function(){this.getTableData()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"table-nav"},s.a.createElement(b.Button,{type:"primary",onClick:function(){return e.props.history.push("/edit/0")}},"\u65b0\u589e"),s.a.createElement(b.Button,{type:"default",onClick:function(){window.location.href="/artist/exportsExcel"}},"\u5bfc\u51fa")),s.a.createElement("div",{className:"ivv-table"},s.a.createElement(b.Loading,{className:"table-loading",loading:this.state.loading},s.a.createElement(b.Table,{style:{width:"100%"},columns:this.state.columns,data:this.state.data,border:!0,onSelectChange:function(e){console.log(e)},onSelectAll:function(e){console.log(e)}}),s.a.createElement("div",{className:"ivv-pagination"},this.state.total<=this.state.pageSize?null:s.a.createElement(b.Pagination,{layout:"prev, pager, next, jumper",total:this.state.total,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onCurrentChange:this.setCurrentPage})))))}}]),t}(s.a.Component),B=(a(369),function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ivv-menusider"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(h.a,{to:"/content/accounts"},"\u8d26\u53f7\u7ba1\u7406")),s.a.createElement("li",null,"\u6743\u9650\u7ba1\u7406"),s.a.createElement("li",null,s.a.createElement(h.a,{to:"/content/Soncontent"},"\u8868\u5355\u7ba1\u7406"))))}}]),t}(s.a.Component)),J=(a(371),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).setShow=function(e,t,n){a.setState({index:t}),x.emit("setShow",e,n)},a.setShowSave=function(e){var t=e.setWhat;if(delete e.setWhat,"custom"===t){var n=a.state.customField;-1===a.state.index?(a.setState({index:n.length}),n.push(e)):n[a.state.index]=e,a.setState({customField:n,whatField:!0})}else{var s=a.state.fixField;-1===a.state.index?(a.setState({index:s.length}),s.push(e)):s[a.state.index]=e,a.setState({fixField:s,whatField:!1})}a.setState({showSave:!0})},a.isSaveData=function(e){e?a.setState({loading:!0},function(){O.call(Object(_.a)(Object(_.a)(a)),{url:"/power/form/edit_form",params:{custom:JSON.stringify(a.state.customField),fixed:JSON.stringify(a.state.fixField)}}).then(function(e){a.setState({saveFix:JSON.parse(JSON.stringify(a.state.fixField)),saveCustom:JSON.parse(JSON.stringify(a.state.customField)),showSave:!1,loading:!1,index:-1}),k("\u4fdd\u5b58\u6210\u529f")})}):a.setState({fixField:JSON.parse(JSON.stringify(a.state.saveFix)),customField:JSON.parse(JSON.stringify(a.state.saveCustom)),showSave:!1,index:-1})},a.delData=function(e,t){if("custom"===t){var n=a.state.customField;n.splice(e,1),a.setState({customField:n})}else{var s=a.state.fixField;s.splice(e,1),a.setState({fixField:s})}a.setState({showSave:!0})},a.moveUp=function(e,t){if(0!==e)if(a.setState({showSave:!0,index:e-1}),"custom"===t){var n=a.state.customField,s=[n[e-1],n[e]];n[e]=s[0],n[e-1]=s[1],a.setState({customField:n,whatField:!0})}else{var l=a.state.fixField,i=[l[e-1],l[e]];l[e]=i[0],l[e-1]=i[1],a.setState({fixField:l,whatField:!1})}},a.moveDown=function(e,t){if("custom"===t){if(e+1===a.state.customField.length)return;var n=a.state.customField,s=[n[e+1],n[e]];n[e]=s[0],n[e+1]=s[1],a.setState({customField:n,showSave:!0,index:++e,whatField:!0})}else{if(e+1===a.state.fixField.length)return;var l=a.state.fixField,i=[l[e+1],l[e]];l[e]=i[0],l[e+1]=i[1],a.setState({fixField:l,showSave:!0,index:++e,whatField:!1})}},a.getFieldList=function(e,t){var n=a.state.trans,l=a.state.index,i=a.state.whatField;return e.map(function(e,c){return s.a.createElement("ul",{key:c,className:"ivv-table-field "+(i===t&&l===c?"ivv-table-dot":"")},s.a.createElement("li",null,c+1),s.a.createElement("li",null,e.name),s.a.createElement("li",null,n[e.type]),t?s.a.createElement("li",null,s.a.createElement("span",{onClick:a.setShow.bind(Object(_.a)(Object(_.a)(a)),e,c,"custom"),className:"ivv-form-edit"},"\u7f16\u8f91"),s.a.createElement("span",{onClick:a.delData.bind(Object(_.a)(Object(_.a)(a)),c,"custom"),className:"ivv-form-del"},"\u5220\u9664"),s.a.createElement("span",{onClick:a.moveUp.bind(Object(_.a)(Object(_.a)(a)),c,"custom"),className:"ivv-form-up"},"\u4e0a\u79fb"),s.a.createElement("span",{onClick:a.moveDown.bind(Object(_.a)(Object(_.a)(a)),c,"custom"),className:"ivv-form-down"},"\u4e0b\u79fb")):s.a.createElement("li",null,s.a.createElement("span",{onClick:a.setShow.bind(Object(_.a)(Object(_.a)(a)),e,c,"fixed"),className:"ivv-form-edit"},"\u7f16\u8f91"),s.a.createElement("span",{onClick:a.delData.bind(Object(_.a)(Object(_.a)(a)),c,"fixed"),className:"ivv-form-del"},"\u5220\u9664"),s.a.createElement("span",{onClick:a.moveUp.bind(Object(_.a)(Object(_.a)(a)),c,"fixed"),className:"ivv-form-up"},"\u4e0a\u79fb"),s.a.createElement("span",{onClick:a.moveDown.bind(Object(_.a)(Object(_.a)(a)),c,"fixed"),className:"ivv-form-down"},"\u4e0b\u79fb")))})},a.state={whatField:!0,fixField:[],customField:[],showSave:!1,saveFix:[],saveCustom:[],index:-1,trans:{text:"\u5355\u884c\u6587\u672c",textarea:"\u591a\u884c\u6587\u672c",radio:"\u5355\u9009\u6846",checkbox:"\u591a\u9009\u6846",date:"\u65e5\u671f"}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.call(this,{url:"/power/form/get_form"}).then(function(t){var a=t.data;e.setState({fixField:a.fixed,customField:a.custom,loading:!1,saveFix:JSON.parse(JSON.stringify(a.fixed)),saveCustom:JSON.parse(JSON.stringify(a.custom))})}),x.addListener("setShowSave",this.setShowSave)}},{key:"componentWillUnmount",value:function(){console.log(this.state),x.removeListener("setShowSave",this.setShowSave)}},{key:"render",value:function(){return s.a.createElement(b.Loading,{className:"ivv-loading-form",loading:this.state.loading},s.a.createElement("div",{className:"ivv-form"},s.a.createElement("p",null,"\u5c55\u793a\u5b57\u6bb5"),s.a.createElement("ul",{className:"ivv-table-title"},s.a.createElement("li",null,"\u5e8f\u53f7"),s.a.createElement("li",null,"\u5b57\u6bb5\u540d"),s.a.createElement("li",null,"\u7c7b\u522b"),s.a.createElement("li",null,"\u64cd\u4f5c")),this.getFieldList(this.state.fixField,!1),s.a.createElement("p",{className:"ivv-custom"},s.a.createElement("span",null,"\u66f4\u591a\u5b57\u6bb5")," ",s.a.createElement("span",{className:"ivv-field-add",onClick:this.setShow.bind(this,{name:"",type:"",required:!0,length:"",regex:"",options:["",""]},-1,"custom")},"\u6dfb\u52a0\u5b57\u6bb5+")),this.getFieldList(this.state.customField,!0),this.state.showSave?s.a.createElement("div",{className:"ivv-save"},s.a.createElement(b.Button,{onClick:this.isSaveData.bind(this,!1)},"\u53d6\u6d88"),s.a.createElement(b.Button,{onClick:this.isSaveData.bind(this,!0),type:"primary"},"\u4fdd\u5b58")):null))}}]),t}(s.a.Component)),W=(a(373),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={user_name:"",password:"",is_super:"1",name:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"setAccount",value:function(e){this.setState({user_name:e})}},{key:"setPasswd",value:function(e){this.setState({password:e})}},{key:"setName",value:function(e){this.setState({name:e})}},{key:"setSuper",value:function(e){this.setState({is_super:e})}},{key:"submit",value:function(){return""===this.state.user_name?k("\u8bf7\u586b\u5199\u7ba1\u7406\u5458\u8d26\u53f7","error"):""===this.state.password?k("\u8bf7\u586b\u5199\u7ba1\u7406\u5458\u5bc6\u7801","error"):""===this.state.name?k("\u8bf7\u586b\u5199\u7ba1\u7406\u5458\u59d3\u540d","error"):void O.call(this,{url:"/login/add_user",params:{user_name:this.state.user_name,password:this.state.password,is_super:this.state.is_super,name:this.state.name}}).then(function(){k("\u6dfb\u52a0\u8d85\u7ba1\u6210\u529f")})}},{key:"render",value:function(){return s.a.createElement("div",{className:"accounts"},s.a.createElement("ul",{className:"accounts-layout"},s.a.createElement("li",null,s.a.createElement("span",{className:"accounts-name"},"\u7ba1\u7406\u5458\u8d26\u53f7\uff1a"),s.a.createElement(b.Input,{value:this.state.user_name,onChange:this.setAccount.bind(this),className:"accounts-input",placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7..."})),s.a.createElement("li",null,s.a.createElement("span",{className:"accounts-name"},"\u7ba1\u7406\u5458\u5bc6\u7801\uff1a"),s.a.createElement(b.Input,{value:this.state.password,onChange:this.setPasswd.bind(this),className:"accounts-input",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801..."})),s.a.createElement("li",null,s.a.createElement("span",{className:"accounts-name"},"\u8d85\u7ea7\u7ba1\u7406\u5458\uff1a"),s.a.createElement("div",{className:"accounts-input"},s.a.createElement(b.Radio,{value:"1",onChange:this.setSuper.bind(this),checked:"1"===this.state.is_super},"\u662f"),s.a.createElement(b.Radio,{value:"0",onChange:this.setSuper.bind(this),checked:"0"===this.state.is_super},"\u5426"))),s.a.createElement("li",null,s.a.createElement("span",{className:"accounts-name"},"\u7ba1\u7406\u5458\u59d3\u540d\uff1a"),s.a.createElement(b.Input,{value:this.state.name,onChange:this.setName.bind(this),className:"accounts-input",placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u59d3\u540d..."})),s.a.createElement("li",null,s.a.createElement(b.Button,{onClick:this.submit.bind(this)},"\u63d0\u4ea4"))))}}]),t}(s.a.Component)),I=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[s.a.createElement(j.a,{path:"/content",key:"content",exact:!0,render:function(){return s.a.createElement(C.a,{to:"/content/Soncontent"})}}),s.a.createElement(j.a,{path:"/content/Soncontent",key:"soncontent",component:J}),s.a.createElement(j.a,{path:"/content/accounts",key:"account",component:W})];return s.a.createElement("div",{className:"ivv-content"},s.a.createElement(B,null),e)}}]),t}(s.a.Component),L=(a(375),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,data:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),O.call(this,{url:"/artist/detail",params:{id:this.props.match.params.id}}).then(function(t){var a=t.data;e.setState({data:a,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(e,t){return s.a.createElement("li",{key:t,className:"ivv-detail-li"},s.a.createElement("span",{className:"ivv-detail-name"},e.name,":"),s.a.createElement("span",{className:"ivv-detail-value"},e.value))});return s.a.createElement(b.Loading,{className:"table-loading",loading:this.state.loading},s.a.createElement("div",{class:"content"},s.a.createElement("div",{class:"title"},s.a.createElement("span",null,"\u8be6\u60c5"),s.a.createElement(b.Button,{type:"default",onClick:function(){e.props.history.go(-1)}},"\u8fd4\u56de")),s.a.createElement("div",{className:"ivv-detail"},s.a.createElement("ul",{className:"ivv-detail-ul"},t))))}}]),t}(s.a.Component)),R=(a(377),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,data:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=parseInt(this.props.match.params.id);0!==t?O.call(this,{url:"/artist/detail",params:{id:t}}).then(function(t){var a=t.data;e.setState({data:a,loading:!1})}):O.call(this,{url:"/power/form/get_form"}).then(function(t){var a=t.data,n=[].concat(a.fixed,a.custom);e.setState({data:n,loading:!1})})}},{key:"setData",value:function(e,t){var a=this.state.data;"text"===a[e].type?a[e].length?a[e].value=t.slice(0,a[e].length):"number"===a[e].regex&&isNaN(t)||(a[e].value=t):a[e].value=t,this.setState({data:a})}},{key:"setCheckbox",value:function(e,t,a){var n=this.state.data;n[e].value||(n[e].value=[]),a?n[e].value.push(t):n[e].value.splice(n[e].value.indexOf(t),1),this.setState({data:n})}},{key:"save",value:function(){var e=this,t=this.state.data;if(t.some(function(e){return e.required&&(null===e.value||void 0===e.value||""===e.value)}))return k("\u60a8\u8fd8\u6709\u5fc5\u586b\u9879\u672a\u586b\u5199","error");var a="";if(t.some(function(e){if("phone"===e.regex){if(!/^[1][3,4,5,7,8](\d{9})$/.test(e.value))return a="\u624b\u673a\u53f7",!0}else if("e_mail"===e.regex){if(!/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e.value))return a="\u90ae\u7bb1",!0}else if("id_card"===e.regex){if(!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e.value))return a="\u8eab\u4efd\u8bc1",!0}return!1}))k("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u7684"+a+"\u586b\u5199\u4e0d\u5408\u6cd5","error");else{this.setState({loading:!0});var n=this.props.match.params.id;O({url:"/artist/add_artists",params:{info:JSON.stringify(this.state.data),id:n}}).then(function(){k(("0"===n?"\u589e\u52a0":"\u4fee\u6539")+"\u6210\u529f"),e.props.history.replace("/ivvtable")})}}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t,a){var n=null;return"text"===t.type?n=s.a.createElement(b.Input,{placeholder:"\u8bf7\u8f93\u5165"+t.name,value:t.value,onChange:e.setData.bind(e,a)}):"radio"===t.type?n=t.options.map(function(n,l){return s.a.createElement(b.Radio,{onChange:e.setData.bind(e,a),value:n,key:l,name:"name"+a,checked:t.value===n},n)}):"checkbox"===t.type?n=t.options.map(function(n,l){return s.a.createElement(b.Checkbox,{onChange:e.setCheckbox.bind(e,a,n),checked:t.value&&t.value.indexOf(n)>=0,key:l},n)}):"date"===t.type?n=s.a.createElement(b.DatePicker,{value:t.value?new Date(t.value):null,placeholder:"\u9009\u62e9\u65e5\u671f",onChange:function(t){var n=e.state.data;n[a].value=t?t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate():null,e.setState({data:n})}}):"textarea"===t.type&&(n=s.a.createElement(b.Input,{className:"ivv-edit-textarea",type:"textarea",onChange:e.setData.bind(e,a),value:t.value,autosize:{minRows:5,maxRows:5},placeholder:"\u8bf7\u8f93\u5165"+t.name})),s.a.createElement("li",{className:"ivv-edit-li",key:a},s.a.createElement("span",{className:"ivv-edit-name"},t.required?s.a.createElement("i",null,"*"):null,t.name,":"),s.a.createElement("span",{className:"ivv-edit-input"},n))});return s.a.createElement("div",{className:"ivv-edit"},s.a.createElement(b.Loading,{loading:this.state.loading},s.a.createElement("ul",{className:"ivv-edit-ul"},t),s.a.createElement("div",{className:"ivv-edit-primary"},0===this.state.data.length?null:s.a.createElement(b.Button,{onClick:this.save.bind(this),type:"primary"},"0"===this.props.match.params.id?"\u63d0\u4ea4":"\u4fee\u6539"))))}}]),t}(s.a.Component)),P=function(){return[s.a.createElement(j.a,{path:"/",key:"normal",exact:!0,render:function(){return s.a.createElement(C.a,{to:"/ivvtable"})}}),s.a.createElement(j.a,{path:"/ivvtable",key:"ivvtable",component:D}),s.a.createElement(j.a,{path:"/content",key:"content",component:I}),s.a.createElement(j.a,{path:"/detail/:id",key:"detail",component:L}),s.a.createElement(j.a,{path:"/edit/:id",key:"edit",component:R}),s.a.createElement(j.a,{path:"/login",key:"login",component:F})]},z=(a(379),a(122)),T=a.n(z)()(),M=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(d.a,null,s.a.createElement("div",{className:"ivv-router"},s.a.createElement(f,null),s.a.createElement(P,{history:T}),s.a.createElement(w,null))))}}]),t}(n.Component);a(384),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,2,1]]]);
//# sourceMappingURL=main.832dfe27.chunk.js.map